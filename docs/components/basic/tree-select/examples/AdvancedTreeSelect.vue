<template>
  <div class="tree-select-demo">
    <h4>é«˜çº§æ ‘é€‰æ‹©</h4>
    <div class="flex flex-wrap gap-4">
      <div>
        <p style="margin-bottom: 8px; font-size: 14px; color: #606266">é»˜è®¤å±•å¼€å…¨éƒ¨</p>
        <CrystalTreeSelect 
          v-model="expandAllValue" 
          :data="treeData" 
          node-key="id"
          :default-expand-all="true"
          style="width: 240px"
        />
      </div>

      <div>
        <p style="margin-bottom: 8px; font-size: 14px; color: #606266">ä¸¥æ ¼å‹¾é€‰æ¨¡å¼</p>
        <CrystalTreeSelect 
          v-model="strictValue" 
          :data="treeData" 
          node-key="id"
          :show-checkbox="true"
          :check-strictly="true"
          style="width: 240px"
        />
      </div>
      <div>
        <p style="margin-bottom: 8px; font-size: 14px; color: #606266">å¸¦å›¾æ ‡èŠ‚ç‚¹</p>
        <CrystalTreeSelect 
          v-model="iconValue" 
          :data="treeDataWithIcons" 
          node-key="id"
          style="width: 240px"
        >
          <template #node="{ data }">
            <div class="flex items-center">
              <span v-if="data.icon" class="mr-2">{{ data.icon }}</span>
              <span>{{ data.label }}</span>
            </div>
          </template>
        </CrystalTreeSelect>
      </div>
    
    </div>
    
    <div class="value-display" style="margin-top: 20px;">
      <h4>é€‰æ‹©å€¼</h4>
      <p>é»˜è®¤å±•å¼€å…¨éƒ¨: {{ expandAllValue }}</p>

      <p>ä¸¥æ ¼å‹¾é€‰æ¨¡å¼: {{ strictValue }}</p>
      <p>å¸¦å›¾æ ‡èŠ‚ç‚¹: {{ iconValue }}</p>

    </div>
  </div>
</template>

<script setup>
import { ref } from 'vue'
import { CrystalTreeSelect } from 'crystalplus-ui'

const expandAllValue = ref('')
const accordionValue = ref('')
const strictValue = ref([])
const iconValue = ref('')
const greenValue = ref('')
const redValue = ref('')

// æ ‘æ•°æ®
const treeData = [
  {
    id: 1,
    label: 'ä¸€çº§èœå•',
    children: [
      {
        id: 11,
        label: 'äºŒçº§èœå• 1',
        children: [
          { id: 111, label: 'ä¸‰çº§èœå• 1-1' },
          { id: 112, label: 'ä¸‰çº§èœå• 1-2' }
        ]
      },
      {
        id: 12,
        label: 'äºŒçº§èœå• 2',
        children: [
          { id: 121, label: 'ä¸‰çº§èœå• 2-1' },
          { id: 122, label: 'ä¸‰çº§èœå• 2-2' }
        ]
      }
    ]
  },
  {
    id: 2,
    label: 'ä¸€çº§èœå• 2',
    children: [
      {
        id: 21,
        label: 'äºŒçº§èœå• 3',
        children: [
          { id: 211, label: 'ä¸‰çº§èœå• 3-1' },
          { id: 212, label: 'ä¸‰çº§èœå• 3-2' }
        ]
      }
    ]
  }
]

// å¸¦å›¾æ ‡çš„æ ‘æ•°æ®
const treeDataWithIcons = [
  {
    id: 1,
    label: 'ä¸€çº§èœå•',
    icon: 'ğŸ“',
    children: [
      {
        id: 11,
        label: 'äºŒçº§èœå• 1',
        icon: 'ğŸ“‚',
        children: [
          { id: 111, label: 'ä¸‰çº§èœå• 1-1', icon: 'ğŸ“„' },
          { id: 112, label: 'ä¸‰çº§èœå• 1-2', icon: 'ğŸ“„' }
        ]
      },
      {
        id: 12,
        label: 'äºŒçº§èœå• 2',
        icon: 'ğŸ“‚',
        children: [
          { id: 121, label: 'ä¸‰çº§èœå• 2-1', icon: 'ğŸ“„' },
          { id: 122, label: 'ä¸‰çº§èœå• 2-2', icon: 'ğŸ“„' }
        ]
      }
    ]
  },
  {
    id: 2,
    label: 'ä¸€çº§èœå• 2',
    icon: 'ğŸ“',
    children: [
      {
        id: 21,
        label: 'äºŒçº§èœå• 3',
        icon: 'ğŸ“‚',
        children: [
          { id: 211, label: 'ä¸‰çº§èœå• 3-1', icon: 'ğŸ“„' },
          { id: 212, label: 'ä¸‰çº§èœå• 3-2', icon: 'ğŸ“„' }
        ]
      }
    ]
  }
]
</script>

<style scoped>
.tree-select-demo {
  padding: 20px;
  background-color: #f9f9f9;
  border-radius: 8px;
  border: 1px solid #eaeaea;
}

.flex {
  display: flex;
}

.flex-wrap {
  flex-wrap: wrap;
}

.gap-4 {
  gap: 16px;
}

.items-center {
  align-items: center;
}

.mr-2 {
  margin-right: 8px;
}

.value-display {
  margin-top: 20px;
  padding-top: 20px;
}

.value-display h4 {
  margin-bottom: 10px;
  font-size: 16px;
  font-weight: 500;
}

.value-display p {
  margin: 5px 0;
  font-size: 14px;
  color: #606266;
}
</style>
